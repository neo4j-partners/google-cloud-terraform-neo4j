apiVersion: blueprints.cloud.google.com/v1alpha1
kind: BlueprintMetadata
metadata:
  name: neo4j-community
  annotations:
    config.kubernetes.io/local-config: "true"
spec:
  info:
    title: Neo4j Community Edition
    version: latest
    actuationTool:
      flavor: Terraform
      version: ">= 1.2"
    description:
      tagline: The world's leading graph database platform
      detailed: |-
        Neo4j Community Edition is a robust graph database designed for building applications.
        
        Key features include:
        - Clustering for high availability and scalability
        - Advanced security features
        - Monitoring and management tools
        - LDAP/Active Directory integration
        - Hot backups
        - Multi-data center support
    softwareGroups:
      - type: SG_OS
        software:
          - title: centos-stream-10
            version: v20260126
      - software:
        - title: Neo4j Community Edition
          version: latest
  content: {}
  interfaces:
    variables:
      - name: project_id
        description: The ID of the project in which to provision resources.
        varType: string
        required: true
      - name: goog_cm_deployment_name
        description: The name of the deployment and VM instances.
        varType: string
        required: true
      - name: source_image
        description: The image name for the disk for the VM instance.
        varType: string
        defaultValue: projects/neo4j-mp-public/global/images/neo4j-community-edition-v20260126
      - name: zone
        description: The zone for the solution to be deployed.
        varType: string
        defaultValue: "us-central1-f"
      - name: password
        description: Password for the Neo4j admin user
        varType: string
        required: true
      - name: machine_type
        description: The machine type to create
        varType: string
        defaultValue: n4-standard-4
      - name: disk_size
        description: Size of the data disk in GB
        varType: integer
        defaultValue: 100
    outputs:
      - name: neo4j_http_url
        description: URL to access Neo4j Browser via load balancer
      - name: neo4j_bolt_endpoint
        description: Bolt endpoint for Neo4j connections via load balancer
